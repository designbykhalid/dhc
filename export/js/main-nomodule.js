!function(){"use strict";function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function n(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function e(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),r.forEach(function(e){n(t,e,o[e])})}return t}function o(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],o=!0,r=!1,c=void 0;try{for(var i,a=t[Symbol.iterator]();!(o=(i=a.next()).done)&&(e.push(i.value),!n||e.length!==n);o=!0);}catch(t){r=!0,c=t}finally{try{o||null==a.return||a.return()}finally{if(r)throw c}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r=function(){var n={timeout:1e4,cachebusting:!1},e={},o=null;function r(t){return l(t),200===t.status||201===t.status||0===t.status?Promise.resolve(t):Promise.reject(new Error(t.statusText))}function c(t){return t.json()}function i(t){return t.text()}function a(){var t=function(){var t={},n=new Promise(function(n,e){t.resolve=n,t.reject=e});return t.then=n.then.bind(n),t.catch=n.catch.bind(n),t.promise=n,t}(),n=Array.prototype.slice.call(arguments);return fetch.apply(null,n).then(function(n){t.resolve(n)},function(n){t.reject(n)}).catch(function(n){t.catch(n)}),t}function u(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=Object.assign({},e,o),t=!0===e.cacheBusting?t+"?"+(new Date).getTime():t,n.method=n.method?n.method:"get";var c=a(t,n),i=setTimeout(function(){c.reject(new Error("Load timeout for resource: "+t))},e.timeout);return c.promise.then(function(t){return clearTimeout(i),!0===r&&l(t),t})}function l(t){null!==o&&o(t)}function s(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==o&&"object"===t(o)&&(e=Object.assign({},n,o))}return s(e),{getJSON:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.headers=Object.assign({},{Accept:"application/json"},n.headers),u(t,n,e).then(r).then(c)},getHTML:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.headers=Object.assign({},{Accept:"text/html"},n.headers),u(t,n,e).then(r).then(i)},fetch:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.headers=Object.assign({},{Accept:"application/json"},n.headers),u(t,n,e,!0)},setCallback:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(o=t)},setOptions:s}}(),c=function(){var t=document.querySelector(".js-search-form"),c=document.querySelector(".doctor-list"),i=t.dataset.api;console.log(i),t.addEventListener("submit",function(a){var u;a.preventDefault(),u=t.querySelectorAll(".js-value"),r.getJSON(i,{body:JSON.stringify(u),method:"POST",headers:{"Content-Type":"application/json"}},{timeout:1e4}).then(function(t){!function(t){var n=t.map(function(t){return'<li class="doctor-list__item"> \n                        <div class="doctor-info">\n                            <div class="doctor-info__general">\n                                <div class="doctor-image">\n                                    <img src="'.concat(t.image,'" alt="">\n                                </div>\n                                <div class="doctor-general">\n                                    <h3 class="doctor-name"><a href="').concat(t.url,'" target="_blank">').concat(t.fullName,'</a></h3>\n                                    <p class="doctor-speciality">').concat(t.specialties[0],'</p>\n                                </div>\n                            </div>\n                            <div class="doctor-info__location">\n                                <ul class="doctor-location">\n                                    ').concat(function(t){return t.locations.map(function(t){return'<li class="doctor-location__item">\n                        <a href="'.concat(t.url,'" class="doctor-location__link">').concat(t.name,'</a>\n                        <div class="doctor-location__distance">').concat(t.distance.toFixed(1)," Miles</div>\n                    </li>")}).join("")}(t),"\n                                </ul>\n                            </div>\n                        </div>\n                    </li>")}).join("");c.innerHTML=n}(function(t){var r=t.results.map(function(t){return t}),c=t.results.map(function(t){return Object.entries(t).reduce(function(t,r){var c=o(r,2),i=c[0],a=c[1];return a?e({},t,n({},i,a)):t},{})}).map(function(t){return Object.entries(t.locations).reduce(function(t,r){var c=o(r,2),i=c[0],a=c[1];return a?e({},t,n({},i,a)):t},{})});return console.log(c),r}(t))}).catch(function(t){alert(t)})})};!function(){c()}()}();
