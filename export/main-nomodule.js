!function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(n){t(e,n,r[n])})}return e}function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){return!1===Array.isArray(e)?[e]:e}function i(e){(e=o(e)).forEach(function(e){return function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e)})}var a=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+Math.random().toString(10).substring(5)};function s(e,t,n,r){return n*e/r+t}function l(e,t,n,r){return(e/=r/2)<1?n/2*Math.pow(e,3)+t:n/2*(Math.pow(e-2,3)+2)+t}function u(e,t,n,r){return n*(Math.pow(e/r-1,3)+1)+t}function c(e,t,n,r){return n*Math.pow(e/r,3)+t}var d=function(e){var t,n,r,o,i,a=60,d=0,f={element:null,position:null,duration:500,easing:"easeOut"};function p(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function v(){d<t&&(d++,p(Math.round(o(d,n,r,t))),window.requestAnimationFrame(v))}!function(){i=Object.assign({},f,e);var d=function(){var e=i.element?i.element.offsetTop:i.position,t=Math.max(document.documentElement.clientHeight,window.innerHeight||0),n=Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)-t;return e>n&&(e=n),e}();window.requestAnimationFrame&&0!==i.duration?(n=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,t=Math.ceil(a*(i.duration/1e3)),r=d-n,o=function(){switch(i.easing){case"easeOut":return u;case"easeInOut":return l;case"easeIn":return c;default:return s}}(),v()):p(d)}()},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"log";console[n]("formValidation: "+e),null!==t&&console[n](t)},p={invalidFormEl:"Form element not defined.",noRules:"No rules set.",noInputEls:"No input elements (input, select or textarea) found within field element.",noRuleSettings:'The rule "[ruleName]" does not return a settings object, and will not work properly.',missingRuleSettingsProperty:'The rule "[ruleName]" is missing the "[propertyName]" property in its settings object, and will not work properly.',missingRuleEvents:'The rule "[ruleName]" does not contain any events in its settings object, and will not work properly.',noRuleIsRelevantMethod:'The rule "[ruleName]" does not return an isRelevant method, and will not work properly.',noRuleValidateMethod:'The rule "[ruleName]" does not return a validate method, and will not work properly.'},v=function(e,t){var n=e.querySelector("."+t.errorsClass);return n?n.classList.add(t.errorsClass):(e.insertAdjacentHTML("beforeend",'\n\t\t\t<div class="'.concat(t.errorsClass," ").concat(t.defaultErrorsClass,'"></div>\n\t\t')),n=e.querySelector("."+t.errorsClass)),n},m=function(e){return e&&e.rule&&e.rule.postprocessMessage&&"function"==typeof e.rule.postprocessMessage},g=function(e){return e.find(function(e){return e&&e.length>0})},h=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(){var e=[],t=[].concat(e),n=function(e){return t.some(function(t){return t.id===e.id})};return{get:function(){return t},getField:function(e){return t.find(function(t){return t.id===e})},addField:function(e){n(e)||t.push(e)},removeField:function(e){t=t.filter(function(t){return t.id!==e})},addFieldVals:function(e,t){if(n(e))for(var r in t)e[r]=t[r]},reset:function(){t=[].concat(e)}}}(),s=[],l=Object.assign({},{rules:[],fieldSelector:".js-validation-field",inputsSelector:"input, select, textarea",errorsClass:"validation-field__errors",errorClass:"validation-field__error",hasErrorsClass:"has-errors",generatedIdPrefix:"js-validation-field--",inputParentFieldIdAttr:"data-validation-field-id",scrollToErrorOnSubmit:!0,scrollToSpeed:500,scrollToEasing:"easeIn",defaultErrorMessage:"Validation error.",disableFieldEventsOnSubmit:!1,onFormValidationStart:null,onFieldValidationStart:null,onFormValidationSuccess:null,onFieldValidationSuccess:null,onFormValidationError:null,onFieldValidationError:null},n),u=function(e){(e=o(e)).forEach(function(e){var n=Array.from(e.querySelectorAll(l.inputsSelector)),o=function(e,t){var n=e.getAttribute("id");if(n)return n;var r=a(t.generatedIdPrefix);return e.setAttribute("id",r),r}(e,l);!function(e,t){t&&0!==t.length||f(p.noInputEls,e)}(e,n),n.forEach(function(e){return e.setAttribute(l.inputParentFieldIdAttr,o)}),r.addField({id:o,formEl:t,fieldEl:e,inputEls:n,errorsEl:v(e,l)}),r.addFieldVals(r.getField(o),{rules:c(r.getField(o))})})},c=function(e){return l.rules.map(function(t){var n="function"==typeof t?t():t;if(function(e,t){e.settings?e.settings.events&&0!==e.settings.events.length?["messageAttr","events"].forEach(function(n){if(!e.settings[n]){var r=p.missingRuleSettingsProperty.replace("[propertyName]",n);f(r.replace("[ruleName]",t))}}):f(p.missingRuleEvents.replace("[ruleName]",t)):f(p.noRuleSettings.replace("[ruleName]",t));e.isRelevant||f(p.noRuleIsRelevantMethod.replace("[ruleName]",t)),e.validate||f(p.noRuleValidateMethod.replace("[ruleName]",t))}(n,t.name),n.isRelevant(e))return h(n),n})},h=function(e){e.settings.events.forEach(function(e){-1===s.indexOf(e)&&(s.push(e),t.addEventListener(e,b))})},b=function(e){if(r.get().length>0){var n=e.target;if(n===t){M(l.onFormValidationStart,{fields:r.get(),event:e}),e.preventDefault();var o=r.get().reduce(function(t,n){return t.concat(y(n,e,l.disableFieldEventsOnSubmit))},[]);return Promise.all(o).then(function(t){if(t.every(function(e){return!0===e.valid}))M(l.onFormValidationSuccess,{fields:r.get(),event:e},w);else{if(l.scrollToErrorOnSubmit)!function(e,t,n){e&&d({element:e,duration:t,easing:n})}(t.find(function(e){return!1===e.valid}).field.fieldEl,l.scrollToSpeed,l.scrollToEasing);M(l.onFormValidationError,{fields:r.get(),event:e})}}).catch(function(t){M(l.onFormValidationError,{fields:r.get(),event:e})})}var i=r.getField(n.getAttribute(l.inputParentFieldIdAttr));if(i)return Promise.all(y(i,e))}},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return M(l.onFieldValidationStart,{fields:o(e),event:t}),T(e),e.rules.filter(function(e){return e&&-1!==e.settings.events.indexOf(t.type)}).map(function(r){return E(e,r,t,n)})},E=function(e,t,n,r){return t.validate(e,n).then(function(o){var i={field:e,response:o,event:n,rule:t,disableEvent:r};return o.valid?A(i):S(i),o.field=e,o}).catch(function(e){return f(e)})},A=function(e){!0!==e.disableEvent&&M(l.onFieldValidationSuccess,{fields:o(e.field),event:e.event})},S=function(e){!0!==e.disableEvent&&(M(l.onFieldValidationError,{fields:o(e.field),event:e.event}),e.field.fieldEl.classList.add(l.hasErrorsClass),function(e,t){var n=e.rule.settings.messageAttr,r=e.field,o=[r.fieldEl.getAttribute(n),r.formEl.getAttribute(n),e.rule.settings.message,t.defaultErrorMessage],i=g(o);m(e)&&(i=e.rule.postprocessMessage(i,r)),r.errorsEl.insertAdjacentHTML("beforeend",'\n\t\t<div class="'.concat(t.errorClass,'">').concat(i,"</div>\n\t"))}(e,l))},T=function(e){e.fieldEl.classList.remove(l.hasErrorsClass),i(e.errorsEl)},M=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null!==e?e(t):null!==n&&n(t.event)},w=function(){t.submit()};return function(){l.defaultErrorsClass="validation-field__errors--default",function(e,t){e&&"FORM"===e.tagName||f(p.invalidFormEl),t.rules&&0===t.rules.length&&f(p.noRules)}(t,l),function(e){e.setAttribute("novalidate","novalidate")}(t);var e=Array.from(t.querySelectorAll(l.fieldSelector));u(e)}(),{addFields:u,removeFields:function(t){(t=o(t)).forEach(function(t){var n,o=t;if(n=t,"object"===("undefined"==typeof HTMLElement?"undefined":e(HTMLElement))?n instanceof HTMLElement:n&&"object"===e(n)&&null!==n&&1===n.nodeType&&"string"==typeof n.nodeName){t.classList.remove(l.hasErrorsClass);var a=t.querySelector("."+l.errorsClass);a&&(i(a),a.classList.contains(l.defaultErrorsClass)&&a.parentNode.removeChild(a)),o=t.getAttribute("id")}r.removeField(o)})},reset:function(){r.reset()}}},b=function(e){var t=Object.assign({},{message:"This field is required.",messageAttr:"data-validation-required-message",events:["focusout","submit"]},e);return{settings:t,isRelevant:function(e){return e.inputEls.some(function(e){return null!==e.getAttribute("required")})},validate:function(e){return new Promise(function(t,n){if(e.inputEls){var r=e.inputEls[0].getAttribute("type"),o="checkbox"===r||"radio"===r?"some":"every";t({valid:e.inputEls[o](function(e){var t=e.getAttribute("type");return"checkbox"===t||"radio"===t?!0===e.checked:e.value.length>0})})}else n("required: No inputs set.")})},postprocessMessage:function(e){return t.postprocessMessage&&"function"==typeof t.postprocessMessage?t.postprocessMessage(e):e}}},y=function(e){var t=Object.assign({},{message:"Please enter a valid email address.",messageAttr:"data-validation-email-message",pattern:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,events:["focusout","submit"]},e);return{settings:t,isRelevant:function(e){return e.inputEls.some(function(e){return"email"===e.getAttribute("type")})},validate:function(e){return new Promise(function(n,r){e.inputEls?n({valid:e.inputEls.some(function(e){return 0===e.value.length||e.value.length>0&&t.pattern.test(e.value)})}):r("email: No inputs set.")})},postprocessMessage:function(e){return t.postprocessMessage&&"function"==typeof t.postprocessMessage?t.postprocessMessage(e):e}}},E=function(e){var t=n({},{message:"Please enter a value between [minToken] and [maxToken] characters.",messageAttr:"data-validation-minmaxlength-message",minAttr:"data-minlength",maxAttr:"maxlength",minToken:"[minToken]",maxToken:"[maxToken]",events:["focusout","submit"]},e);function r(e){var n=e.getAttribute(t.minAttr);return null===n||e.value.length>=parseInt(n)}function o(e){var n=e.getAttribute(t.maxAttr);return null===n||e.value.length<=parseInt(n)}return{settings:t,isRelevant:function(e){return e.inputEls.some(function(e){return null!==e.getAttribute(t.minAttr)||null!==e.getAttribute(t.maxAttr)})},validate:function(e){return new Promise(function(t,n){e.inputEls?t({valid:e.inputEls.some(function(e){return 0===e.value.length||r(e)&&o(e)})}):n("minMaxLength: No inputs set.")})},postprocessMessage:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.postprocessMessage&&"function"==typeof t.postprocessMessage)return t.postprocessMessage(e,t,n);var i=function(e){var n=t.minToken,i=t.maxToken;if(e.inputEls){var a=e.inputEls.filter(function(e){return!r(e)||!o(e)});a.length&&(n=a[0].getAttribute(t.minAttr),i=a[0].getAttribute(t.maxAttr))}return{minVal:n,maxVal:i}}(n),a=i.minVal,s=i.maxVal;return e=(e=e.replace(t.minToken,a)).replace(t.maxToken,s)}}};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var A,S,T=(function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.inputElement,n=(0,s.default)(e),r=function(e){var t=e.target.value;return n.update(t)};return t.addEventListener("input",r),n.update(t.value),{textMaskInputElement:n,destroy:function(){t.removeEventListener("input",r)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.conformToMask=void 0,t.maskInput=o;var i=n(2);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return r(i).default}});var a=n(5),s=r(a);t.default=o},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,o.isArray)(t)){if((void 0===t?"undefined":r(t))!==i.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,n),t=(0,o.processCaretTraps)(t).maskWithoutCaretTraps}var l=n.guide,u=void 0===l||l,c=n.previousConformedValue,d=void 0===c?s:c,f=n.placeholderChar,p=void 0===f?i.placeholderChar:f,v=n.placeholder,m=void 0===v?(0,o.convertMaskToPlaceholder)(t,p):v,g=n.currentCaretPosition,h=n.keepCharPositions,b=!1===u&&void 0!==d,y=e.length,E=d.length,A=m.length,S=t.length,T=y-E,M=T>0,w=g+(M?-T:0),k=w+Math.abs(T);if(!0===h&&!M){for(var C=s,x=w;x<k;x++)m[x]===p&&(C+=p);e=e.slice(0,w)+C+e.slice(w,y)}for(var P=e.split(s).map(function(e,t){return{char:e,isNew:t>=w&&t<k}}),O=y-1;O>=0;O--){var F=P[O].char;if(F!==p){var j=O>=w&&E===S;F===m[j?O-T:O]&&P.splice(O,1)}}var V=s,N=!1;e:for(var L=0;L<A;L++){var q=m[L];if(q===p){if(P.length>0)for(;P.length>0;){var R=P.shift(),_=R.char,I=R.isNew;if(_===p&&!0!==b){V+=p;continue e}if(t[L].test(_)){if(!0===h&&!1!==I&&d!==s&&!1!==u&&M){for(var D=P.length,H=null,z=0;z<D;z++){var Z=P[z];if(Z.char!==p&&!1===Z.isNew)break;if(Z.char===p){H=z;break}}null!==H?(V+=_,P.splice(H,1)):L--}else V+=_;continue e}N=!0}!1===b&&(V+=m.substr(L,A));break}V+=q}if(b&&!1===M){for(var J=null,U=0;U<V.length;U++)m[U]===p&&(J=U);V=null!==J?V.substr(0,J+1):s}return{conformedValue:V,meta:{someCharsRejected:N}}};var o=n(3),i=n(1),a=[],s=""},function(e,t,n){function r(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.placeholderChar;if(!r(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map(function(e){return e instanceof RegExp?t:e}).join("")},t.isArray=r,t.isString=function(e){return"string"==typeof e||e instanceof String},t.isNumber=function(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)},t.processCaretTraps=function(e){for(var t=[],n=void 0;-1!==(n=e.indexOf(a));)t.push(n),e.splice(n,1);return{maskWithoutCaretTraps:e,indexes:t}};var o=n(1),i=[],a="[]"},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.previousConformedValue,o=void 0===t?r:t,i=e.previousPlaceholder,a=void 0===i?r:i,s=e.currentCaretPosition,l=void 0===s?0:s,u=e.conformedValue,c=e.rawValue,d=e.placeholderChar,f=e.placeholder,p=e.indexesOfPipedChars,v=void 0===p?n:p,m=e.caretTrapIndexes,g=void 0===m?n:m;if(0===l||!c.length)return 0;var h=c.length,b=o.length,y=f.length,E=u.length,A=h-b,S=A>0,T=0===b;if(A>1&&!S&&!T)return l;var M=0,w=void 0,k=void 0;if(!S||o!==u&&u!==f){var C=u.toLowerCase(),x=c.toLowerCase(),P=x.substr(0,l).split(r),O=P.filter(function(e){return-1!==C.indexOf(e)});k=O[O.length-1];var F=a.substr(0,O.length).split(r).filter(function(e){return e!==d}).length,j=f.substr(0,O.length).split(r).filter(function(e){return e!==d}).length,V=j!==F,N=void 0!==a[O.length-1]&&void 0!==f[O.length-2]&&a[O.length-1]!==d&&a[O.length-1]!==f[O.length-1]&&a[O.length-1]===f[O.length-2];!S&&(V||N)&&F>0&&f.indexOf(k)>-1&&void 0!==c[l]&&(w=!0,k=c[l]);for(var L=v.map(function(e){return C[e]}),q=L.filter(function(e){return e===k}).length,R=O.filter(function(e){return e===k}).length,_=f.substr(0,f.indexOf(d)).split(r).filter(function(e,t){return e===k&&c[t]!==e}).length,I=_+R+q+(w?1:0),D=0,H=0;H<E;H++){var z=C[H];if(M=H+1,z===k&&D++,D>=I)break}}else M=l-A;if(S){for(var Z=M,J=M;J<=y;J++)if(f[J]===d&&(Z=J),f[J]===d||-1!==g.indexOf(J)||J===y)return Z}else if(w){for(var U=M-1;U>=0;U--)if(u[U]===k||-1!==g.indexOf(U)||0===U)return U}else for(var B=M;B>=0;B--)if(f[B-1]===d||-1!==g.indexOf(B)||0===B)return B};var n=[],r=""},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){document.activeElement===e&&(g?h(function(){return e.setSelectionRange(t,t,v)},0):e.setSelectionRange(t,t,v))}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,s=r.inputElement,u=r.mask,v=r.guide,g=r.pipe,h=r.placeholderChar,b=void 0===h?f.placeholderChar:h,y=r.keepCharPositions,E=void 0!==y&&y,A=r.showMask,S=void 0!==A&&A;if(void 0===n&&(n=s.value),n!==t.previousConformedValue){(void 0===u?"undefined":a(u))===m&&void 0!==u.pipe&&void 0!==u.mask&&(g=u.pipe,u=u.mask);var T=void 0,M=void 0;if(u instanceof Array&&(T=(0,d.convertMaskToPlaceholder)(u,b)),!1!==u){var w=function(e){if((0,d.isString)(e))return e;if((0,d.isNumber)(e))return String(e);if(null==e)return p;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}(n),k=s.selectionEnd,C=t.previousConformedValue,x=t.previousPlaceholder,P=void 0;if((void 0===u?"undefined":a(u))===f.strFunction){if(!1===(M=u(w,{currentCaretPosition:k,previousConformedValue:C,placeholderChar:b})))return;var O=(0,d.processCaretTraps)(M),F=O.maskWithoutCaretTraps,j=O.indexes;M=F,P=j,T=(0,d.convertMaskToPlaceholder)(M,b)}else M=u;var V={previousConformedValue:C,guide:v,placeholderChar:b,pipe:g,placeholder:T,currentCaretPosition:k,keepCharPositions:E},N=(0,c.default)(w,M,V),L=N.conformedValue,q=(void 0===g?"undefined":a(g))===f.strFunction,R={};q&&(!1===(R=g(L,i({rawValue:w},V)))?R={value:C,rejected:!0}:(0,d.isString)(R)&&(R={value:R}));var _=q?R.value:L,I=(0,l.default)({previousConformedValue:C,previousPlaceholder:x,conformedValue:_,placeholder:T,rawValue:w,currentCaretPosition:k,placeholderChar:b,indexesOfPipedChars:R.indexesOfPipedChars,caretTrapIndexes:P}),D=_===T&&0===I,H=S?T:p,z=D?H:_;t.previousConformedValue=z,t.previousPlaceholder=T,s.value!==z&&(s.value=z,o(s,I))}}}}};var s=n(4),l=r(s),u=n(2),c=r(u),d=n(3),f=n(1),p="",v="none",m="object",g="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),h="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])}(A={exports:{}},A.exports),A.exports),M=(S=T)&&S.__esModule&&Object.prototype.hasOwnProperty.call(S,"default")?S.default:S,w=(T.vanillaTextMask,function(e){var t=Object.assign({},{message:"You must be of age to proceed.",messageAttr:"data-validation-agecheck-message",events:["focusout","submit"],minAge:0},e);return{settings:t,isRelevant:function(e){return e.fieldEl.hasAttribute("data-agecheck")},validate:function(e){return new Promise(function(n,r){e.inputEls?n({valid:e.inputEls.some(function(n){return function(e,t){var n=e.getDate(),r=e.getMonth(),o=e.getFullYear(),i=new Date,a=i.getDate(),s=i.getMonth(),l=i.getFullYear();return l-o>t||l-o===t&&s-r>0||l-o===t&&s-r==0&&a>=n}(function(e){var t=e.replace(/\D/g,""),n=t.substring(2,4),r=t.substring(0,2),o=t.substring(4,8);return new Date(o,r-1,n)}(n.value),function(e){var n=parseInt(e.getAttribute("data-agecheck-min-age"));return!isNaN(n)&&n>=0?n:t.minAge}(e.fieldEl))})}):r("ageCheck: No inputs set.")})},postprocessMessage:function(e){return t.postprocessMessage&&"function"==typeof t.postprocessMessage?t.postprocessMessage(e):e}}}),k="select[multiple]",C='input[type="radio"]',x='input[type="checkbox"]',P='input[type="file"]',O="input, select, textarea",F={elementSelectors:O,shouldStringify:!1};function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;return r(e.querySelectorAll(t))}function V(e){var t={},n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(l.name)if(l.matches(x)){if(l.checked){var u=t[l.name]||[];t[l.name]=[].concat(r(u),[l.value])}}else l.matches(C)?l.checked&&(t[l.name]=l.value):l.matches(k)?t[l.name]=r(l.options).filter(function(e){return e.selected}).map(function(e){return e.value}):l.matches(P)?t[l.name]=l.files:t[l.name]=l.value}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return t}var N,L,q,R,_,I={getValues:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n({},F,t),o={};if(e)if(e.tagName){var i=e.matches(O)?[e]:j(e,r.elementSelectors);i.length&&(o=V(i))}else e.length&&(o=V(e));return r.shouldStringify?JSON.stringify(o):o},getInputElements:j},D=document.querySelector(".js-signup-form"),H=D.querySelector(".js-anniversary-mask"),z=D.querySelector(".js-birthdate-mask"),Z=[/\d/,/\d/,"/",/\d/,/\d/,"/",/\d/,/\d/,/\d/,/\d/],J=D.querySelector(".js-country-select"),U=D.querySelector(".js-selected-country-val"),B=D.querySelector(".js-zipcode-field"),G=B.querySelector(".js-zipcode-input"),W=B.querySelector(".js-zipcode-label"),Y=W.querySelector(".js-zipcode-label-required"),K=function(e,t){$.includes(e)?function(e,t){G.removeAttribute("disabled"),Y.classList.add("label--required"),Y.classList.remove("label--optional"),W.classList.remove("label--disabled"),G.classList.remove("input--disabled"),G.required=!0,G.setAttribute("aria-required",!0),L.addFields(B),"US"===e?(G.setAttribute("data-minlength","5"),G.setAttribute("maxlength","5"),G.setAttribute("placeholder","00000"),t&&(G.value="")):(G.removeAttribute("data-minlength"),G.removeAttribute("placeholder"),G.setAttribute("maxlength","20"),L.removeFields(B),L.addFields(B),G.value="")}(e,t):(G.value="",G.removeAttribute("placeholder"),G.setAttribute("disabled",!0),Y.classList.remove("label--required"),Y.classList.add("label--optional"),W.classList.add("label--disabled"),G.classList.add("input--disabled"),L.removeFields(B),G.required=!1,G.setAttribute("aria-required",!1))},$=["US","AT","BE","BG","CT","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","GB"],Q=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=J.value;K(t,e)},X=function(){var e,t,n={rules:[(e={message:"Please enter a valid date."},t=Object.assign({},{message:"Please match the field format.",messageAttr:"data-validation-pattern-message",events:["focusout","submit"]},e),{settings:t,isRelevant:function(e){return e.inputEls.some(function(e){return null!==e.getAttribute("pattern")})},validate:function(e){return new Promise(function(t,n){e.inputEls?t({valid:e.inputEls.some(function(e){var t=new RegExp(e.getAttribute("pattern"));return 0===e.value.length||e.value.length>0&&t.test(e.value)})}):n("pattern: No inputs set.")})},postprocessMessage:function(e){return t.postprocessMessage&&"function"==typeof t.postprocessMessage?t.postprocessMessage(e):e}}),b,E,y,w({minAge:21})],onFormValidationError:function(){N.setDirty(!0)},onFormValidationSuccess:function(){N.setDirty(!1),D.submit()}};L=h(D,n)},ee=function(){z&&M({inputElement:z,mask:Z}),H&&M({inputElement:H,mask:Z})};(function(){J.value=U.value})(),X(),ee(),q=r(document.querySelectorAll(".js-get-value")),R=I.getValues(q,{shouldStringify:!0}),_=!1,q.forEach(function(e){e.addEventListener("change",function(){_=!0})}),window.addEventListener("beforeunload",function(e){var t=I.getValues(q,{shouldStringify:!0});R!==t&&_&&(e.preventDefault(),e.returnValue="Changes you made may not be saved.")}),N={setDirty:function(e){_=e}},Q(!1),J.addEventListener("change",Q)}();
