function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){_defineProperty(t,e,n[e])})}return t}let fetchUtils=function(){const t={timeout:1e4,cachebusting:!1};let e={},n=null;function o(t){return a(t),200===t.status||201===t.status||0===t.status?Promise.resolve(t):Promise.reject(new Error(t.statusText))}function c(t){return t.json()}function r(t){return t.text()}function i(){let t=function(){let t={},e=new Promise(function(e,n){t.resolve=e,t.reject=n});return t.then=e.then.bind(e),t.catch=e.catch.bind(e),t.promise=e,t}(),e=Array.prototype.slice.call(arguments);return fetch.apply(null,e).then(function(e){t.resolve(e)},function(e){t.reject(e)}).catch(function(e){t.catch(e)}),t}function l(t,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=Object.assign({},e,o),t=!0===e.cacheBusting?t+"?"+(new Date).getTime():t,n.method=n.method?n.method:"get";let r=i(t,n),l=setTimeout(function(){r.reject(new Error("Load timeout for resource: "+t))},e.timeout);return r.promise.then(function(t){return clearTimeout(l),!0===c&&a(t),t})}function a(t){null!==n&&n(t)}function s(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==n&&"object"==typeof n&&(e=Object.assign({},t,n))}return s(e),{getJSON:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.headers=Object.assign({},{Accept:"application/json"},e.headers),l(t,e,n).then(o).then(c)},getHTML:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.headers=Object.assign({},{Accept:"text/html"},e.headers),l(t,e,n).then(o).then(r)},fetch:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.headers=Object.assign({},{Accept:"application/json"},e.headers),l(t,e,n,!0)},setCallback:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(n=t)},setOptions:s}};var instance=fetchUtils();const searchForm=()=>{const t=document.querySelector(".js-search-form"),e=document.querySelector(".doctor-list"),n=t.dataset.api;console.log(n),t.addEventListener("submit",o=>{o.preventDefault(),function(){const o=t.querySelectorAll(".js-value");instance.getJSON(n,{body:JSON.stringify(o),method:"POST",headers:{"Content-Type":"application/json"}},{timeout:1e4}).then(t=>{!function(t){const n=t.map(t=>'<li class="doctor-list__item"> \n                        <div class="doctor-info">\n                            <div class="doctor-info__general">\n                                <div class="doctor-image">\n                                    <img src="'.concat(t.image,'" alt="">\n                                </div>\n                                <div class="doctor-general">\n                                    <h3 class="doctor-name"><a href="').concat(t.url,'" target="_blank">').concat(t.fullName,'</a></h3>\n                                    <p class="doctor-speciality">').concat(t.specialties[0],'</p>\n                                </div>\n                            </div>\n                            <div class="doctor-info__location">\n                                <ul class="doctor-location">\n                                    ').concat(function(t){return t.locations.map(t=>'<li class="doctor-location__item">\n                        <a href="'.concat(t.url,'" class="doctor-location__link">').concat(t.name,'</a>\n                        <div class="doctor-location__distance">').concat(t.distance.toFixed(1)," Miles</div>\n                    </li>")).join("")}(t),"\n                                </ul>\n                            </div>\n                        </div>\n                    </li>")).join("");e.innerHTML=n}(function(t){let e=t.results.map(t=>t),n=t.results.map(t=>Object.entries(t).reduce((t,e)=>{let[n,o]=e;return o?_objectSpread({},t,{[n]:o}):t},{})).map(t=>Object.entries(t.locations).reduce((t,e)=>{let[n,o]=e;return o?_objectSpread({},t,{[n]:o}):t},{}));return console.log(n),e}(t))}).catch(t=>{alert(t)})}()})},main=function(){searchForm()};main();
